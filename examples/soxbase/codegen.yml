# todo: make `../../node_modules/@reachdigital` some env variable or resulve dynamically'
generates:
  # Generate a types package based on a default Magento GraphQL endpoint
  ../../node_modules/@reachdigital/graphql/generated/types.ts:
    schema:
      - '../../node_modules/@reachdigital/graphql-codegen-near-operation-file/src/injectable.graphqls'
      - ${NEXT_PUBLIC_GRAPHQL_ENDPOINT}
      - '../../node_modules/@reachdigital/**/*.graphqls'
      - '!../../node_modules/@reachdigital/graphql/schema.graphqls'
    plugins:
      - typescript
      - typescript-apollo-client-helpers
      - add
    config:
      enumsAsTypes: true
      content: '/* eslint-disable */'
  ../../node_modules/@reachdigital/graphql/generated/schema.graphqls:
    schema:
      - '../../node_modules/@reachdigital/graphql-codegen-near-operation-file/src/injectable.graphqls'
      - ${NEXT_PUBLIC_GRAPHQL_ENDPOINT}
      - '../../node_modules/@reachdigital/**/*.graphqls'
      - '!../../node_modules/@reachdigital/graphql/schema.graphqls'
    plugins:
      - schema-ast
      - add
    config:
      includeDirectives: true
      commentDescriptions: false
      content: '#'
  ../../node_modules/@reachdigital/graphql/generated/fragments.json:
    schema:
      - '../../node_modules/@reachdigital/graphql-codegen-near-operation-file/src/injectable.graphqls'
      - ${NEXT_PUBLIC_GRAPHQL_ENDPOINT}
      - '../../node_modules/@reachdigital/**/*.graphqls'
      - '!../../node_modules/@reachdigital/graphql/schema.graphqls'
    plugins:
      - fragment-matcher
    config:
      apolloClientVersion: 3
  # Generate a .gql.ts files for each GraphQL query
  ../../node_modules/@reachdigital:
    schema:
      - '../../node_modules/@reachdigital/graphql-codegen-near-operation-file/src/injectable.graphqls'
      - ${NEXT_PUBLIC_GRAPHQL_ENDPOINT}
      - '../../node_modules/@reachdigital/**/*.graphqls'
      - '!../../node_modules/@reachdigital/graphql/schema.graphqls'
    documents:
      - '../../node_modules/@reachdigital/**/*.graphql'
    plugins:
      - '@reachdigital/graphql-codegen-relay-optimizer-plugin'
      - typed-document-node
      - typescript-operations
      - add
    preset: '@reachdigital/graphql-codegen-near-operation-file'
    presetConfig:
      extension: .gql.ts
      baseTypesPath: ~@reachdigital/graphql
      injectables: true
    config:
      skipTypename: true
      dedupeOperationSuffix: true
      content: '/* eslint-disable */'
  # Generate a .gql.ts files for each GraphQL query
  /:
    schema:
      - '../../node_modules/@reachdigital/graphql-codegen-near-operation-file/src/injectable.graphqls'
      - ${NEXT_PUBLIC_GRAPHQL_ENDPOINT}
      - '../../node_modules/@reachdigital/**/*.graphqls'
      - '!../../node_modules/@reachdigital/graphql/schema.graphqls'
    documents:
      - '../../node_modules/@reachdigital/**/*.graphql'
    plugins:
      - '@reachdigital/graphql-codegen-relay-optimizer-plugin'
      - typed-document-node
      - typescript-operations
      - add
    preset: '@reachdigital/graphql-codegen-near-operation-file'
    presetConfig:
      extension: .gql.ts
      baseTypesPath: ~@reachdigital/graphql
      injectables: true
    config:
      skipTypename: true
      dedupeOperationSuffix: true
      content: '/* eslint-disable */'
